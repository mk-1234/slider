$pics=[];for(let i=1;i<10;i++){$pics.push(`slider-image-${i}.jpg`);}
$btnDisabled=false;$currentPosFirstRow=0;$currentPosSecRow=0;$currentPicFirstRow=0;$currentPicSecRow=0;$firstRowElemNmb=0;$secondRowElemNmb=0;$firstRowElements=[];$secondRowElements=[];$firstRowInitialPos=[];$secondRowInitialPos=[];$setInitials=false;$totalWidthFirstRow=0;$totalWidthSecondRow=0;$(document).ready(function(){$.each($pics,function(index,value){if(index<4){$(".pics-second-row").append("<img src='assets\\"+value+"'/>");$secondRowElemNmb++;}else{$(".pics-first-row").append("<img src='assets\\"+value+"'/>");$firstRowElemNmb++;}});$(".pics-first-row").children().addClass("pic pic-f");$(".pics-second-row").children().addClass("pic pic-s");$.each($(".pics-first-row").children(),function(index,value){$(this).addClass("nmb-"+(index+4)).css("position","relative");$firstRowElements.push($(this));});$.each($(".pics-second-row").children(),function(index,value){$(this).addClass("nmb-"+index).css("position","relative");$secondRowElements.push($(this));});$("#left").click(()=>{if($btnDisabled){console.log("buttons disabled!");return;}
disableButtons();shiftElements($(".nmb-"+($currentPicFirstRow+$firstRowElemNmb-1)).outerWidth(true),$(".nmb-"+$currentPicSecRow).outerWidth(true),-1);$currentPicFirstRow=($currentPicFirstRow+1)%$firstRowElemNmb;$currentPicSecRow=($currentPicSecRow+1)%$secondRowElemNmb;});$("#right").click(()=>{if($btnDisabled){console.log("buttons disabled!");return;}
disableButtons();$nextPicFirstRow=($currentPicFirstRow+$firstRowElemNmb-1)%$firstRowElemNmb;$nextPicSecRow=($currentPicSecRow+$secondRowElemNmb-1)%$secondRowElemNmb;shiftElements($(".nmb-"+($nextPicFirstRow+$firstRowElemNmb-1)).outerWidth(true),$(".nmb-"+$nextPicSecRow).outerWidth(true),1);$currentPicFirstRow=$nextPicFirstRow;$currentPicSecRow=$nextPicSecRow;});});function disableButtons(){$btnDisabled=true;$("#left").addClass("disabled-left-btn");$("#right").addClass("disabled-right-btn");}
function shiftElements(pxValFirst,pxValSec,dir){if(!$setInitials){$.each($firstRowElements,function(index,value){$firstRowInitialPos.push(value.position().left);$totalWidthFirstRow+=value.outerWidth(true);});$.each($secondRowElements,function(index,value){$secondRowInitialPos.push(value.position().left);$totalWidthSecondRow+=value.outerWidth(true);});$setInitials=true;}
moveElements($firstRowElements,$currentPicFirstRow,dir,pxValFirst,$totalWidthFirstRow,$firstRowElemNmb,$firstRowInitialPos,"first");moveElements($secondRowElements,$currentPicSecRow,dir,pxValSec,$totalWidthSecondRow,$secondRowElemNmb,$secondRowInitialPos,"second");}
function moveElements($elements,curr,dir,pxVal,width,elemNmb,$initialPos,row){let tmpMove=$elements[curr].outerWidth(true);$.each($elements,function(index,value){let move=value.position().left+dir*pxVal;if(dir==1){if(move>=width)move-=width;}else{if(move<0)move=width-tmpMove;}
let evalLeft=curr;let evalRight=(curr+elemNmb-1)%elemNmb;if(index==(dir==1?evalRight:evalLeft)){value.animate({opacity:0});value.animate({left:move-$initialPos[index]},"fast");value.animate({opacity:1},"fast",()=>{if(row=="first")setButtons();});}else{value.animate({left:move-$initialPos[index]});}});}
function setButtons(){$btnDisabled=false;$("#left").removeClass("disabled-left-btn");$("#right").removeClass("disabled-right-btn");}